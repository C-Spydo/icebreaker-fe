<div class="row">
  <div class="col-sm-12">
    <app-card cardTitle="Prospects List">
      <!-- Search Input -->
      <div class="input-group mb-3">
        <input type="text" class="form-control" placeholder="Search prospects..." [(ngModel)]="searchTerm" />
        <span class="input-group-text"><i class="bi bi-search"></i></span>
      </div>

      <!-- Table -->
      <div class="table-responsive">
        <table class="table table-hover table-striped">
          <thead>
            <tr>
              <th (click)="sortData('id')" class="sortable">
                # 
                <i class="bi" [ngClass]="{'bi-arrow-up': sortColumn === 'id' && sortAsc, 'bi-arrow-down': sortColumn === 'id' && !sortAsc}"></i>
              </th>
              <th (click)="sortData('company_name')" class="sortable">
                Company Name 
                <i class="bi" [ngClass]="{'bi-arrow-up': sortColumn === 'company_name' && sortAsc, 'bi-arrow-down': sortColumn === 'company_name' && !sortAsc}"></i>
              </th>
              <th (click)="sortData('contact_name')" class="sortable">
                Contact Name 
                <i class="bi" [ngClass]="{'bi-arrow-up': sortColumn === 'contact_name' && sortAsc, 'bi-arrow-down': sortColumn === 'contact_name' && !sortAsc}"></i>
              </th>
              <th (click)="sortData('contact_email')" class="sortable">
                Contact Email 
                <i class="bi" [ngClass]="{'bi-arrow-up': sortColumn === 'contact_email' && sortAsc, 'bi-arrow-down': sortColumn === 'contact_email' && !sortAsc}"></i>
              </th>
              <th (click)="sortData('contact_phone')" class="sortable">
                Contact Phone 
                <i class="bi" [ngClass]="{'bi-arrow-up': sortColumn === 'contact_phone' && sortAsc, 'bi-arrow-down': sortColumn === 'contact_phone' && !sortAsc}"></i>
              </th>
              <th (click)="sortData('industry_name')" class="sortable">
                Industry 
                <i class="bi" [ngClass]="{'bi-arrow-up': sortColumn === 'industry_name' && sortAsc, 'bi-arrow-down': sortColumn === 'industry_name' && !sortAsc}"></i>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let prospect of filteredProspects(); let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ prospect.company_name }}</td>
              <td>{{ prospect.contact_name }}</td>
              <td>{{ prospect.contact_email }}</td>
              <td>{{ prospect.contact_phone }}</td>
              <td>{{ prospect.industry_name }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </app-card>
  </div>
</div>
